<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, heigth = device-hight, initial-scale=1, shrink-to-fit=no" />
        <title>BS Pop-up Maker</title>
        <link rel="stylesheet" href="style.css" />
        <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet" />
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous" />
    </head>
    <body>
        <div class="main-block">
            <h1>Pop-up Maker</h1>
            <form class="btn-block">
                <h3>Input your settings below</h3>
                <br />

                <select id="mode" onchange="display()">
                    <option id="custom">Custom</option>
                    <option id="minigame">Minigame</option>
                    <option id="random">Random</option>
                </select>

                <div id="placeholder" style="color: red; font-size: 15px;"><br /></div>

                <div id="div">
                    <input type="text" id="popup" placeholder="Pop-up text" required />
                    <input type="text" id="url" placeholder="Display URL" required />
                </div>
                <div class="btn-block">
                    <button type="submit" onclick="open_bs()">Open Brawl Stars</button>
                </div>
                <br />
                <p style="font-size: 15px;">Made by PhoenixFire#6879</p>
                <p style="font-size: 15px;">Visit my <a href="https://github.com/PhoenixFire6879" style="color: pink;">GitHub page</a></p>
            </form>
        </div>
        <script>
            function display() {
                var x = document.getElementById("div");
                var y = document.getElementById("placeholder");

                if (document.getElementById("minigame").selected == true) {
                    x.style.display = "none";
                    y.innerHTML = "";
                } else if (document.getElementById("random").selected == true) {
                    x.style.display = "none";
                    y.innerHTML = "This is a beta feature and it's limited to only a few URLs";
                } else {
                    x.style.display = "block";
                    y.innerHTML = "";
                }
            }

            function random() {
                var urls = new Array(
                    "https://www.google.com",
                    "https://www.yahoo.com",
                    "https://www.facebook.com",
                    "https://www.netflix.com",
                    "https://www.google.com/maps",
                    "https://www.youtube.com",
                    "https://discordapp.com",
                    "http://rebrawl.gg",
                    "https://make.supercell.com",
                    "http://twitter.com",
                    "https://github.com",
                    "https://github.com/PhoenixFire6879/Classic-Brawl"
                );
                var popup_title = "Random-URL";
                page = urls[Math.floor(urls.length * Math.random())];

                url = "brawlstars://webview?page=" + page + "&popup_title=" + popup_title;
                location.href = url;
            }

            function open_bs() {
                var x = document.getElementById("div");

                if (document.getElementById("minigame").selected == true) {
                    var popup_title = "8bit-Minigame";
                    var page = "https://inbox.brawlstars.com/project-laser-game/index.html?params=en/you_can_put_anything_here/cHJvamVjdC1sYXNlcg";
                } else if (document.getElementById("random").selected == true) {
                    random();
                } else {
                    var popup_title = document.getElementById("popup").value;
                    var page = document.getElementById("url").value;
                }

                if (popup_title && page) {
                    url = "brawlstars://webview?page=" + page + "&popup_title=" + popup_title;
                    console.log(url);
                    location.href = url;
                } else {
                    console.log("One or more fields are empty!");
                }
            }
        </script>
    </body>
</html>
